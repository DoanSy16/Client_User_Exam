<section ng-controller="LoginCtrl as vm">

    <div class="login-container">
        <div class="login-wrapper">
            <!-- Header v·ªõi Logo -->
            <div class="login-header">
                <div class="stu-logo">
                    <div class="logo-text">STU</div>
                </div>
                <div class="header-content">
                    <h1>H·ªÜ TH·ªêNG THI TR·∫ÆC NGHI·ªÜM</h1>
                    <p class="subtitle">TR∆Ø·ªúNG ƒê·∫†I H·ªåC C√îNG NGH·ªÜ S√ÄI G√íN</p>
                </div>
            </div>

            <!-- Form ƒëƒÉng nh·∫≠p -->
            <div class="login-form-container">
                <div class="form-header">
                    <h2>ƒêƒÇNG NH·∫¨P THI</h2>
                    <p>Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin ƒë·ªÉ v√†o ph√≤ng thi</p>
                </div>

                <form class="login-form" name="loginForm" ng-submit="vm.handleLogin()" novalidate>
                    <div class="form-group"
                        ng-class="{'error': vm.showError('fullname'), 'success': vm.showSuccess('fullname')}">
                        <label for="fullname">H·ªç v√† t√™n</label>
                        <input type="text" id="fullname" name="fullname" ng-model="vm.formData.fullname"
                            ng-blur="vm.validateField('fullname')" ng-focus="vm.clearError('fullname')"
                            placeholder="Nh·∫≠p h·ªç v√† t√™n ƒë·∫ßy ƒë·ªß" required>
                        <div class="input-icon">üë§</div>
                        <div class="error-message" ng-show="vm.errors.fullname">{{vm.errors.fullname}}</div>
                    </div>

                    <div class="form-group"
                        ng-class="{'error': vm.showError('studentId'), 'success': vm.showSuccess('studentId')}">
                        <label for="studentId">M√£ s·ªë sinh vi√™n</label>
                        <input type="text" id="studentId" name="studentId" ng-model="vm.formData.studentId"
                            ng-blur="vm.validateField('studentId')" ng-focus="vm.clearError('studentId')"
                            ng-change="vm.formatStudentId()" placeholder="V√≠ d·ª•: DH50000" required>
                        <div class="input-icon">üéì</div>
                        <div class="error-message" ng-show="vm.errors.studentId">{{vm.errors.studentId}}</div>
                    </div>

                    <div class="form-group"
                        ng-class="{'error': vm.showError('className'), 'success': vm.showSuccess('className')}">
                        <label for="className">L·ªõp</label>
                        <input type="text" id="className" name="className" ng-model="vm.formData.className"
                            ng-blur="vm.validateField('className')" ng-focus="vm.clearError('className')"
                            ng-change="vm.formatClassName()" placeholder="V√≠ d·ª•: CNTT01" required>
                        <div class="input-icon">üìö</div>
                        <div class="error-message" ng-show="vm.errors.className">{{vm.errors.className}}</div>
                    </div>

                    <div class="form-group"
                        ng-class="{'error': vm.showError('roomId'), 'success': vm.showSuccess('roomId')}">
                        <label for="roomId">ID Ph√≤ng thi</label>
                        <input type="text" id="roomId" name="roomId" ng-model="vm.formData.roomId"
                            ng-blur="vm.validateField('roomId')" ng-focus="vm.clearError('roomId')"
                            ng-change="vm.formatRoomId()" placeholder="Nh·∫≠p m√£ ph√≤ng thi" required>
                        <div class="input-icon">üè´</div>
                        <div class="error-message" ng-show="vm.errors.roomId">{{vm.errors.roomId}}</div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="login-btn" ng-class="{'loading': vm.isLoading}"
                            ng-disabled="vm.isLoading" ng-click="vm.handleLogin()">
                            <span class="btn-text">V√ÄO PH√íNG THI</span>
                            <span class="btn-icon">‚Üí</span>
                        </button>
                    </div>

                    <div class="form-note">
                        <p><strong>L∆∞u √Ω:</strong> Vui l√≤ng ki·ªÉm tra k·ªπ th√¥ng tin tr∆∞·ªõc khi ƒëƒÉng nh·∫≠p. Sau khi v√†o ph√≤ng
                            thi, b·∫°n s·∫Ω kh√¥ng th·ªÉ thay ƒë·ªïi th√¥ng tin.</p>
                    </div>
                </form>
            </div>

            <!-- Footer -->
            <div class="login-footer">
                <p>¬© 2025 Tr∆∞·ªùng ƒê·∫°i h·ªçc C√¥ng ngh·ªá S√†i G√≤n</p>
            </div>
        </div>
    </div>

    <!-- Modal th√¥ng b√°o -->

    <div class="modal" ng-show="vm.modal.show">
        <div class="modal-content">
            <div class="modal-header">
                <h3 ng-bind="vm.modal.title">Th√¥ng b√°o</h3>
            </div>

            <div class="modal-body center-flex">
                <p ng-if="vm.modal.type != 'mark'"  ng-bind="vm.modal.message">
                </p>
                <div ng-if="vm.modal.type == 'mark'" class="scratch-wrapper">
                    <p id="markText" class="big-number-3d">{{vm.modal.message}}</p>
                    <canvas id="scratchCanvas"></canvas>
                </div>
            </div>

            <div class="modal-footer">
                <button class="modal-btn primary" ng-click="vm.hideModal()">ƒê·ªìng √Ω</button>
            </div>
        </div>
    </div>

</section>
